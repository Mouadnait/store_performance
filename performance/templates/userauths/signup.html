{% extends "auth.html" %}
{% block title %}Sign Up{% endblock title %}
{% block content %}
<div class="auth-wrapper">
    <div class="auth-box">
        <div class="auth-header">
            <div class="logo">
                <i class='bx bx-bar-chart-alt-2'></i>
                <h1>Store Performance</h1>
            </div>
            <h2>Create Account</h2>
            <p>Get started with your analytics journey</p>
        </div>
        
        {% if form.errors %}
        <div class="form-errors">
            {% for field, errors in form.errors.items %}
                {% for error in errors %}<p>{{ error }}</p>{% endfor %}
            {% endfor %}
        </div>
        {% endif %}
        
        <form method="POST" class="auth-form">
            {% csrf_token %}
            
            <div class="form-group">
                <label><i class='bx bx-user'></i> Username</label>
                <div class="input-field">
                    <span class="input-icon"><i class='bx bx-user'></i></span>
                    {{ form.username }}
                </div>
            </div>
            
            <div class="form-group">
                <label><i class='bx bx-envelope'></i> Email</label>
                <div class="input-field">
                    <span class="input-icon"><i class='bx bx-envelope'></i></span>
                    {{ form.email }}
                </div>
            </div>
            
            <div class="form-group">
                <label><i class='bx bx-lock-alt'></i> Password</label>
                <div class="password-wrapper">
                    <span class="input-icon"><i class='bx bx-lock-alt'></i></span>
                    {{ form.password1 }}
                    <button type="button" class="toggle-btn" onclick="togglePassword('{{ form.password1.id_for_label }}')">
                        <i class='bx bx-show'></i>
                    </button>
                </div>
            </div>
            
            <div class="form-group">
                <label><i class='bx bx-lock-alt'></i> Confirm Password</label>
                <div class="password-wrapper">
                    <span class="input-icon"><i class='bx bx-lock-alt'></i></span>
                    {{ form.password2 }}
                    <button type="button" class="toggle-btn" onclick="togglePassword('{{ form.password2.id_for_label }}')">
                        <i class='bx bx-show'></i>
                    </button>
                </div>
            </div>
            
            <button type="submit" class="btn-primary">
                Create Account
                <i class='bx bx-right-arrow-alt'></i>
            </button>
        </form>
        
        <div class="auth-footer">
            <p>Already have an account? <a href='{% url "userauths:sign-in" %}'>Sign In</a></p>
        </div>
    </div>
</div>

<script>
function togglePassword(inputId) {
    const pwd = document.getElementById(inputId);
    const btn = pwd.nextElementSibling.querySelector('i');
    if (pwd.type === 'password') {
        pwd.type = 'text';
        btn.classList.replace('bx-show', 'bx-hide');
    } else {
        pwd.type = 'password';
        btn.classList.replace('bx-hide', 'bx-show');
    }
}
</script>
{% endblock content %}